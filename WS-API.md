# WebSocket API - Specification
----
## Формат данных
Все взаимодействия между /back и /front, в дальнейшем именуемые events, имеют следующий формат
```json
{
  "id": 1234123412341,
  "time": 12233234,
  "type_id": 1,
  "payload": {...}
}
```
### Аттрибуты
* **id** - Уникальный в пределах системы числовой идентификатор события.
* **time** - Время события unix timestamp
* **[type_id](WS-API.md.md#Типы-пересылаемых-данных)** - Идентификатор типа данных в payload
* **payload** - передаваемый объект

> В случае когда формирование сообщения происходит на клиенте - поле "id" может отсутствовать, в любом случае его значение не учитывается.

## Типы пересылаемых данных

|     type_id    |   Описание  |
|:--------------:|:-----------:|
| `1` | Карточка "Новость" |
| `2` | Карточка "Статья" |
| `3` | Карточка "Рекламный блок" |
| `4` | Карточка "Викторина" |
| `5` | Карточка "Партнерский контент" |
| `6` | Карточка "Место" |
| `7` | Карточка "Мероприятие" |
| `8` | Карточка "Матч" |
| `9` | Карточка "Розыгрыш" |
| `10` | Карточка "Купоны и скидки" |
|      |  |
| `101` | Текстовое сообщение |
| `102` | Картинка |
| `103` | HTML |
| `104` | Координаты |
| `105` | Видео |
| `106` | Стикер |
| `107` | Контакты профиля |
|      |  |


## user message


Формат сообщений в чатах, передаваемый с сервера
```json
{
  "time": 24545455252,
  "utid": "fe89fy4rbft7gbcctehdn38yxwhpl",
  "payload": "payload data",
  "payload_type_id": 101
  }
```


